<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <style>
    body {
      font-family: Garamond, serif;
      max-width: 8.5in;
      margin: 0 auto;
      padding: 0.5in;
      line-height: 1.4;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    td {
      vertical-align: top;
      padding: 0.3rem;
    }
    label {
      font-weight: bold;
      display: block;
      margin-bottom: 0.2rem;
    }
    input, textarea, select {
      width: 100%;
      padding: 0.3rem;
      font-size: 1rem;
      box-sizing: border-box;
      resize: none;
    }
    button {
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 6px;
      background: #2563eb;
      color: white;
      cursor: pointer;
      font-size: 1rem;
    }
    button:hover { background: #1e40af; }
    @media print {
      button { display: none; }
      input, textarea, select { border: none; outline: none; }
      body { margin: 0.4in; }
    }
  </style>
</head>
<body>

<table>
  <tr>
    <td>
      <label for="student">Student Name</label>
      <select id="student">
        <option value="">-- Select a Student --</option>
      </select>
    </td>
    <td>
      <label for="studentId">Student ID</label>
      <input type="text" id="studentId" readonly>
    </td>
  </tr>
  <tr>
    <td colspan="2">
      <label for="subject">Subject</label>
      <input type="text" id="subject" placeholder="e.g. Math">
    </td>
  </tr>
  <tr>
    <td colspan="2">
      <label for="overview">Scope / Overview</label>
      <textarea id="overview" rows="3"></textarea>
    </td>
  </tr>
  <tr>
    <td colspan="2">
      <label for="sequence">Lessons / Sequence</label>
      <textarea id="sequence" rows="25"></textarea>
    </td>
  </tr>
  <tr>
    <td colspan="2">
      <label for="materials">Materials Needed</label>
      <textarea id="materials" rows="6"></textarea>
    </td>
  </tr>
</table>

<button onclick="window.print()">Print / Save to PDF</button>

<script>
async function loadStudents() {
  const response = await fetch('students.csv');
  const text = await response.text();
  const rows = text.trim().split('\n').slice(1);
  const students = rows.map(r => {
    const [name, id] = r.split(',');
    return { name, id };
  });

  const select = document.getElementById('student');
  students.forEach(s => {
    const opt = document.createElement('option');
    opt.value = s.id;
    opt.textContent = s.name;
    select.appendChild(opt);
  });

  select.addEventListener('change', e => {
    document.getElementById('studentId').value = e.target.value || '';
  });
}
loadStudents();
</script>

</body>
</html>
